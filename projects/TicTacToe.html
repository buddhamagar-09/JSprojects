<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            color: white;
        }

        .container {
            height: 95vh;
            width: full;
            /* background-color: red; */
            margin: 15px;
            display: flex;
            flex-direction: column;
            align-items:center;
            justify-content: center;
        }

        .btn_container {
            display: flex;
            flex-wrap: wrap;
            width: 550px;
            /* background-color: green; */
            height: max-content;
            justify-content: center;
            gap: 2px;
        }

        .box {
            width: 150px;
            height: 150px;
            border-radius: 10px;
            cursor: pointer;
            background-color: blue;
            font-size: 48px;
            text-align: center;
            vertical-align: middle;
            /* Remove padding */
        }

        #reset_btn {
            padding: 10px 15px;
            background-color: yellow;
            margin-top: 20px;
            border-radius: 15px;
            cursor: pointer;
            color: black;
        }

        h1 {
            margin-bottom: 50px;
            color: rgb(199, 15, 255);
            display: none;
        }

        #reset_btn:hover {
            background-color: rgb(211, 211, 21);
        }
    </style>
</head>

<body>
    <section class="container">
        <h1 id="result">Hello World</h1>
        <div class="btn_container">
            <button class="box"></button>
            <button class="box"></button>
            <button class="box"></button>
            <button class="box"></button>
            <button class="box"></button>
            <button class="box"></button>
            <button class="box"></button>
            <button class="box"></button>
            <button class="box"></button>
        </div>
        <button id="reset_btn">Reset Game</button>
    </section>
</body>
<script>
    let boxes = document.querySelectorAll(".box");
    let r_btn = document.querySelector("#reset_btn");
    let result = document.getElementById("result");

    let turnO = true;
    let count = 0;

    const winner_pattern = [
        [0, 1, 2],
        [3, 4, 5],
        [6, 7, 8],
        [0, 3, 6],
        [1, 4, 7],
        [2, 4, 6],
        [2, 5, 8],
        [0, 4, 8]
    ];


    //inserting the turn by turn X and O  

    boxes.forEach((innerBox) => {
        innerBox.addEventListener("click", () => {

            if (turnO) {
                innerBox.innerHTML = "O";
                turnO = false;
                count++;
                innerBox.style.color = "green";
            }
            else {
                innerBox.innerHTML = "X";
                turnO = true;
                count++;
                innerBox.style.color = "red";
            }
            innerBox.disabled = true;
            checkWinner();
        });
    });

    // showing the winner

    const showWinner = (winner) => {
        result.innerHTML = `Congratulation the winner is ${winner}`;
        result.style.display = "block";

        boxes.forEach(box => {
            box.disabled = true;
        });
    };

    // checking the winner logic
    const checkWinner = () => {
        let foundwinner = false;
        winner_pattern.forEach((pattern) => {
            let val1 = (boxes[pattern[0]].innerText);
            let val2 = (boxes[pattern[1]].innerText);
            let val3 = (boxes[pattern[2]].innerText);

            if (val1 != "" && val2 != "" && val3 != "") {
                if (val1 === val2 && val2 === val3) {
                    showWinner(val1);
                    foundwinner = true;
                }
            }
        });

        if (!foundwinner && count === 9) {
            result.innerHTML = "The Game is Draw!";
            result.style.display = "block";
        }
    };

// reset logic
    r_btn.addEventListener("click", () => {
        result.innerHTML = "";
        result.style.display = "none";
        count = 0;
        turnO = true;


        boxes.forEach(innerBox => {
            innerBox.disabled = false;
            innerBox.innerHTML = "";
        });

    });
</script>

</html>